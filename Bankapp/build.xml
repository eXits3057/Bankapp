<?xml version="1.0" encoding="UTF-8"?>
<project name="Bankapp" default="default" basedir=".">
    <description>Builds, tests, and runs the project Bankapp.</description>
    <import file="nbproject/build-impl.xml"/>

    <!-- Create FAT JAR -->
    <target name="fat-jar" depends="clean,jar">
        <!-- Create output folder -->
        <mkdir dir="dist/fatjar"/>

        <!-- Copy libraries to dist/lib -->
        <mkdir dir="dist/lib"/>
        <copy todir="dist/lib">
            <fileset dir="lib" includes="*.jar"/>
        </copy>

        <!-- Build Fat JAR -->
        <jar destfile="dist/fatjar/${ant.project.name}-fat.jar" compress="true">
            <manifest>
                <attribute name="Main-Class" value="bankapp.mainMenu"/>
            </manifest>

            <!-- include compiled classes -->
            <fileset dir="build/classes"/>

            <!-- include jars inside the executable jar -->
            <zipgroupfileset dir="dist/lib" includes="*.jar"/>
        </jar>

        <echo message="âœ… FAT JAR CREATED: dist/fatjar/${ant.project.name}-fat.jar"/>
    </target>
</project>
